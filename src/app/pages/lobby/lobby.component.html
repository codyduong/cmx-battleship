<div class="pixel-font">

  <h1 style="text-align: center" class="game-title">Lobby</h1>

  <div class="flex-row mx-auto justify-content-center col-gap-2">
    <button class="game-button" (click)="handleLogout()">Logout</button>
    <button class="game-button">Quick Match</button>
  </div>

  <br>

  <div class="flex-row vw-70 mx-auto col-gap-2">

    <!-- Online Players Section -->
    <div class="flex-col player-col">
      <h3 class="game-subtitle">Players</h3>

      <br>

      <p>Search for player:</p>
      <input class="mt-1 game-input" [formControl]="searchedPlayer" placeholder="Enter player name or ID">

      <!-- Updated: Online Players List with Request Button -->
      <div class="player-list">
        <div *ngFor="let player of availablePlayerCache(); trackBy: trackPlayerId" class="mt-2 flex-row space-between-items">
          <span>{{ player.player_name }}#{{ player.player_id }}</span>
          <button class="game-button" (click)="handleCreateRequest(player.player_id)">Request</button>
        </div>
      </div>
    </div>

    <!-- Requests Section -->
    <div class="flex-col player-col">
      <h3 class="game-subtitle">Requests</h3>

      <div class="player-list">
        <div *ngFor="let request of gameRequestCache(); trackBy: trackPlayerId" class="mt-2 flex-row space-between-items">
          <span>{{ request.player_name }}#{{ request.player_id }}</span>
          <button class="game-button" (click)="handleJoinGame(request.game_request_id)">Accept</button>
        </div>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <div class="footer">
    <span>&copy; 2024 Battleship Game. All rights reserved.</span>
  </div>
</div>
